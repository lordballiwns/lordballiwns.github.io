<!DOCTYPE html>
<html lang="es_mx">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pronóstico del Tiempo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="neon-div" onclick="copyAccountNumber()">
        ¡Ayúdanos con tu donación! <p> Número de cuenta: 1271 8001 3023 546289
    </div>
    <h1>Pronóstico del Tiempo<p>Ayuntamiento de San Nicolás</h1>
    <script>
        function copyAccountNumber() {
            const accountNumber = '1271 8001 3023 546289';
            navigator.clipboard.writeText(accountNumber)
                .then(() => alert('Número de cuenta copiado: ' + accountNumber))
                .catch(error => console.error('Error al copiar el número de cuenta:', error));
        }
    </script>
    <!--Test-->
    <!-- Agrega elementos HTML para mostrar los datos -->
    <p>Temperatura: <span id="temperatura"></span> °C</p>
    <p>Sensación térmica: <span id="sensacion-termica"></span> °C</p>
    <p>Humedad: <span id="humedad"></span>%</p>
    <!-- Agrega más elementos aquí -->
    <script>
        async function obtenerDatosClima() {
            const ciudad = "Cuajinicuilapa"; // Cambia a la ciudad de tu interés
            const url = `https://smn.conagua.gob.mx/tools/GUI/webservices/?method=1&nes=${ciudad}`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                // Extrae los datos que necesitas
                const temperatura = data.tmax;
                const sensacionTermica = data.tmin;
                const humedad = data.hum;
                const nubosidad = data.cielo;
                const descripcion = data.desciel;
                const precipitacion = data.prec;
                const lluviaUltimas3Horas = data.lluvia3h;
                const periodoDia = data.dloc;
                const poblacion = data.nmun;
                const visibilidad = data.vis;

                // Haz lo que necesites con los datos (por ejemplo, mostrarlos en la página)
                console.log("Temperatura:", temperatura, "°C");
                console.log("Sensación térmica:", sensacionTermica, "°C");
                console.log("Humedad:", humedad, "%");
                console.log("Nubosidad:", nubosidad, "%");
                console.log("Descripción:", descripcion);
                console.log("Precipitación:", precipitacion, "mm");
                console.log("Lluvia en las últimas 3 horas:", lluviaUltimas3Horas, "mm");
                console.log("Período del día:", periodoDia);
                console.log("Población:", poblacion);
                console.log("Visibilidad:", visibilidad, "km");
            } catch (error) {
                console.error("Error al obtener datos climáticos:", error);
            }
        }
        // Actualiza los elementos HTML con los datos
            document.getElementById("temperatura").textContent = temperatura;
            document.getElementById("sensacion-termica").textContent = sensacionTermica;
            document.getElementById("humedad").textContent = humedad;
            // Actualiza más elementos aquí
        }

        // Llama a la función para obtener los datos al cargar la página
        obtenerDatosClima();
    </script>
    <!--fin de test-->
    <marquee behavior="scroll" direction="left" scrollamount="4" loop="infinite">
        &copy; Proyecto Tigger Swan | Versión  5.1.0-1.0.04 | Todos los derechos reservados por Lord Balliwn's | Tema: Blue
        | <span id="fecha"></span>
    </marquee>

    <!-- Script para mostrar la fecha actual -->
    <script>
        const fechaActual = new Date();
        const mes = fechaActual.toLocaleString('es', { month: 'long' });
        const mesConPrimeraMayuscula = mes.charAt(0).toUpperCase() + mes.slice(1);
        const año = fechaActual.getFullYear();
        document.getElementById('fecha').textContent = `${mesConPrimeraMayuscula} ${año}`;
    </script>
</body>
</html>